# 1.http缓存:从第二次请求开始，根据是否需要向服务器发送请求 #
## 根据是否可以被单个或多个用户使用来分类，私有缓存/共享缓存 ##
## 1.1强缓存200（from memory cache/from disk cache） ##
### pragma/cache-control/expires ###
### 强缓存在没有失效的情况下都是用的浏览器的缓存数据，不会再向服务器发送任何请求，（即Cache-Control：private, max-age=0, no-cache的max-age没有过期或者Expires的缓存时间没有过期，max-age是Cache-Control的一个属性值）###
## 1.2协商缓存304（不管是否生效，都要与服务器发生交互） ##
## 对于协商缓存，将缓存信息中的Etag和Last-Modified通过请求发送给服务器，由服务器校验，返回304状态码时，浏览器直接使用缓存 ##
###（响应头） ETag：（是一个hash值）A5D7FA5319AFEF1F117540B07B64964F"###
### （请求头）If-None-Match：  ###
### （响应头）Last-modified：Wed, 22 Apr 2015 12:51:48 GMT（最后修改的时间） ###
> ####缺点1： Last-Modified标注的最后修改只能精确到秒级，如果某些文件在1秒钟以内，被修改多次的话，它将不能准确标注文件的修改时间 ####
> #### 缺点2：有可能存在服务器没有准确获取文件修改时间，或者与代理服务器时间不一致等情形 ####
> #### 缺点3：如果某些文件被修改了，但是内容并没有任何变化，而Last-Modified却改变了，导致文件没法使用缓存 ####
### （请求头）if-Modified-since ###
### Cache-Control
	(请求头）max-age=0 ###

## 当第一次请求时服务器返回的响应头中没有Cache-Control和Expires或者Cache-Control和Expires过期还或者它的属性设置为no-cache时(即不走强缓存)，那么浏览器第二次请求时就会与服务器进行协商，与服务器端对比判断资源是否进行了修改更新 ##
# 3.补充http响应头 #
	①Access-Control-Allow-Credentials
		true//是否允许携带cookie
	②Access-Control-Allow-Headers
		x-requested-with,Authorization//头部增加的信息
	③Access-Control-Allow-Methods
		PUT, DELETE, POST, GET, OPTIONS//服务器允许的方法
	④Access-Control-Max-Age
		3600//缓存的最大时间
	⑤Cache-Control
		no-store, no-cache, must-revalidate//不能缓存，必须每次协商
	⑥Cache-Control
		post-check=0, pre-check=0
	⑦Connection
		keep-alive//一直保持tcp链接
	⑧Content-Type
		image/jpeg;charset=UTF-8//图像类型，文字类型
	⑨Date
		Thu, 25 Mar 2021 10:43:43 GMT//时间
	⑩Expires
		Thu, 01 Jan 1970 00:00:00 GMT//过期时间
	①Pragma
		no-cache//是否允许缓存
	②Set-Cookie
		SERVERID=3a1c9805c8714fdca6b2e754d978f568|1616669023|1616666769;Path=/
	③Transfer-Encoding
		chunked
# 4.补充http请求头 #
	Accept
		image/webp,*/*
	Accept-Encoding
		gzip, deflate, br
	Accept-Language
		zh-CN,zh;q=0.8,zh-TW;q=0.7,zh-HK;q=0.5,en-US;q=0.3,en;q=0.2
	Cache-Control
		max-age=0
	Connection
		keep-alive
	Cookie
		NOWCODERUID=28646625158DD71EB6309DF7E671D79E; NOWCODERCLINETID=23093005D80FD654A9276E695613C554; Hm_lvt_a808a1326b6c06c437de769d1b85b870=1615266678,1616082515,1616633043,1616666775; __snaker__id=SWswCOPoMC3gZl9J; gdxidpyhxdE=5UTKT%5Cr%2BtYqhsv5phW0RbX0f77t5oXaXviGRVYSRn9YGkpsaxVUzZoov%5CItkXnp%2BSHCYVI3LDCMypsp4fqaGDR2huuirvit74yD3CYMsxSnQXR3%2BQxnhI%2BUlVkPDug2UfQqC2Cz18gyZpEVpuHwOcLmp8RkqVkCjAKhUGtEAnZ7CoqPs%3A1610367551633; _9755xjdesxxd_=32; t=0560D1B720907A19E50396DFF5359789; gr_user_id=4b749a72-be8c-4…ast_sent_cs1=717712921; grwng_uid=8fe184d7-9393-49c1-af20-3c92c223b1e1; SERVERID=3a1c9805c8714fdca6b2e754d978f568|1616669008|1616666769; c196c3667d214851b11233f5c17f99d5_gr_session_id_84ec0f7b-8a4b-4149-a6c2-fab47f1496da=true; c196c3667d214851b11233f5c17f99d5_gr_session_id=84ec0f7b-8a4b-4149-a6c2-fab47f1496da; c196c3667d214851b11233f5c17f99d5_gr_last_sent_sid_with_cs1=84ec0f7b-8a4b-4149-a6c2-fab47f1496da; Hm_lpvt_a808a1326b6c06c437de769d1b85b870=1616669006; c196c3667d214851b11233f5c17f99d5_gr_cs1=717712921
	Host
		www.nowcoder.com
	Referer
		https://www.nowcoder.com/discuss/623705?source_id=discuss_experience_nctrack&channel=-1
	User-Agent
		Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:86.0) Gecko/20100101 Firefox/86.0

# 5.http缓存的优点： #
## 1. 减少了冗余的数据传输，节省了网费。##
##2. 缓解了服务器的压力， 大大提高了网站的性能##
##3. 加快了客户端加载网页的速度 ##
# 6.设置http缓存 #
## 6.1html禁用缓存的设置 ##
    `<meta http-equiv="pragma" content="no-cache">`
    `<meta http-equiv="cache-control" content="no-cache">`
    `<meta http-equiv="expires" content="0">`
## 6.2html设置缓存 ##
    `<meta http-equiv="Cache-Control" content="max-age=7200" />`
    `<meta http-equiv="Expires" content="Mon, 20 Aug 2018 23:00:00 GMT" />

# 7.浏览器缓存（：cookie4kb、sessionStorage5mb、localStorage5mb） #
## 1.session保存在服务器端，cookie保存在客户端（4kb，20个，300个）
## 2.区别：（1）大小不同 ##
## （2）cookie需要每次携带，而storage是需要的时候才携带 ##
## （3）cookie和localstorage跨浏览器也可以使用,并且需要设置时间 ##
## （4) sessionstroage只在浏览器窗口打开时有效，关闭后就没了。并且跨浏览器也不能使用##
![](https://upload-images.jianshu.io/upload_images/4845448-4b270d197649b733?imageMogr2/auto-orient/strip|imageView2/2/w/800)
![](https://upload-images.jianshu.io/upload_images/4845448-d2cac3511e372486?imageMogr2/auto-orient/strip|imageView2/2/w/800)


